<!DOCTYPE html>
<html lang="en">
{% load static %}
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
      <title>Facebook</title>
      <!-- Bootstrap -->
      <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
      <link href="{% static 'css/custom.css' %}" rel="stylesheet">
      <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
      <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
      <style type="text/css">
      </style>
      <script src="{% static 'js/jquery.js' %}"></script>
      <script src="{% static 'js/bootstrap.js' %}"></script>

   </head>
   <body>
      <div id="container">
         <div class="navbar navbar-default">
            <div class="container">
               <div class="navbar-header">
                  <a class="navbar-logo" href="/login"><img src="{% static '/images/logo.png' %}"></a>
               </div>
               <div class="login-form">
                  <form action="" id="sign-form" class="form-inline navbar-right">
                     <div class="aln-left">
                        <div class="form-group">
                           <label for="email">Email or Phone</label><br/>
                           <input type="text" class="form-control input-sm" id="username" name="username" placeholder="">
                        </div>
                        <div class="form-group">
                           <label for="password">Password</label><br/>
                           <input type="password" class="form-control input-sm" id="password" name="password" placeholder="">
                        </div>
                        <div class="lnk_frgt">
                           <a href="#">Forgotten Account?</a>
                        </div>
                     </div>
                     <div class="aln-right">
                        <button id="submit-btn"  type="button" class="btn btn-primary login-btn">Login</button>
                     </div>
                  </form>
                  <br/><br/>	
                  <form class="signup-mobile">
                     <button class="btn btn-lg btn-primary btn-block signup-btn btn-success" type="submit">                                      Create new account</button>
                  </form>
               </div>
            </div>
         </div>
         <div class="container">
            <div class="row">
               <div class="col-md-7 fb-features">
                  <h3 class="slogan">
                     Facebook helps you connect and share with<br/> the people in your life.
                  </h3>
                  <font>
                     <ul>
                        <br/>
                        <li><img class="fb_icon" src="{% static 'images/img1.png' %}">  &nbsp;<b>See photos and updates</b> from friends in news feed.</span></li>
                        <br/>
                        <li><img class="fb_icon" src="{% static 'images/img2.png' %}">&nbsp; <b>Share what's new </b>in your life on your timeline .</span></li>
                        <br/>
                        <li><img class="fb_icon" src="{% static 'images/img3.png' %}"> &nbsp; <b>Find more</b> of what  you're looking for with Search</span> </li>
                        <br/>
                     </ul>
                  </font>
               </div>
               <div class="col-md-5 signup-frm">
                  <form id="sign-frm" action="#" method="post" class="form" role="form" enctype="multipart/form-data">{%csrf_token%}
                     <h1>Create your account</h1>
                     <h4>It's free and always will be.</h4>
                     <div class="row">
                        <div class="col-xs-6 col-md-6">
                           <input class="form-control input-lg" name="firstname" placeholder="First Name" id="fname" type="text" autofocus />
                        </div>
                        <div class="col-xs-6 col-md-6">
                           <input class="form-control input-lg" name="lastname" placeholder="Last Name" id="lname" type="text" />
                        </div>
                     </div>
                     <input class="form-control input-lg" id="email1" name="youremail" placeholder="Your Email" type="email" />
                     <input class="form-control input-lg" name="reenteremail" placeholder="Re-enter Email" id="email2" type="email" />
                     <input class="form-control input-lg" name="password" placeholder="New Password" id="userpass" type="password" />
                     <label for="">
                     Birth Date</label>
                     <div class="row">
                        <div class="col-xs-4 col-md-4">
                           <select id="month" class="form-control input-lg">
                              <option  value="">Month</option>
                               <option value="01">January</option>
                                <option value="02">February</option>
                                <option value="03">March</option>
                                <option value="04">April</option>
                                <option value="05">May</option>
                                <option value="06">June</option>
                                <option value="07">July</option>
                                <option value="08">August</option>
                                <option value="09">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                           </select>
                        </div>
                        <div class="col-xs-4 col-md-4">
                           <select name="day" id="day" class="form-control input-lg">
                             <option  value="">Day</option>

                                <option value="01">01</option>
                                <option value="02">02</option>
                                <option value="03">03</option>
                                <option value="04">04</option>
                                <option value="05">05</option>
                                <option value="06">06</option>
                                <option value="07">07</option>
                                <option value="08">08</option>
                                <option value="09">09</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                                <option value="19">19</option>
                                <option value="20">20</option>
                                <option value="21">21</option>
                                <option value="22">22</option>
                                <option value="23">23</option>
                                <option value="24">24</option>
                                <option value="25">25</option>
                                <option value="26">26</option>
                                <option value="27">27</option>
                                <option value="28">28</option>
                                <option value="29">29</option>
                                <option value="30">30</option>
                                <option value="31">31</option>
                            </select>
                           </select>
                        </div>
                        <div class="col-xs-4 col-md-4">
                           <select id="year" name="year" class="form-control input-lg">
                       <option value="">Year</option>

                              
  <script>
  var myDate = new Date();
  var year = myDate.getFullYear();
  for(var i = 1900; i < year+1; i++){
    document.write('<option value="'+i+'">'+i+'</option>');
  }
  </script>
</select>
                          
                        </div>
                     </div>
                     <label class="">
                     <input type="radio" name="gender" id="inlineCheckbox1" value="M" />
                     Male
                     </label>
                     <label class="">
                     <input type="radio" name="gender" id="inlineCheckbox2" value="F" />
                     Female
                     </label>
                     <br /> 
                      <label class="control-label">Select File</label>
                      <input id="photo" name="photo" type="file" class="file">
                     <span class="help-block">By clicking Create my account, you agree to our Terms and that you have read our Data Use Policy, including our Cookie Use.</span>
                     <button class="btn btn-lg btn-primary btn-block signup-btn btn-success" id="signup-btn" type="submit">
                     Create my account</button>
                  </form>
               </div>
            </div>
         </div>
      </div>
      <script>
         $(document).ready(function(){
             $("#submit-btn").click(function(){
             	var username = $('#username').val();
             	var password = $('#password').val();
                 $.ajax({url: "http://127.0.0.1:9000/webservice/", 
                 		dataType:"json",
                 		
                 		type: "GET",
         				data:{username:username ,password:password},
                 	   success: function(data){
                     console.log(data);
                     
                    
                   if (data.ResponseCode == 200) {
            		 			
            		 		//	url = "pages/profile.html?pro_pic=" + data[0].vchr_prof_pic
// $(location).attr("href", url);
                $( "body" ).load( "/profile/", function() {
                $(".profile_image").attr('src',data.vchr_prof_pic);
                $('#fname').html(data.vchr_first_name);
                $('#lname').html(data.vchr_last_name);


               });



         			}
         		else if (data.ResponseCode == 500)
         		{


               // url = "pages/login.html?pro_pic=" + data[0].vchr_prof_pic
               //  $(location).attr("href", url);   

                 $( "body" ).load( "/email/", function() {
                $("#profile_pic").attr('src', data.vchr_prof_pic);
                $('#username').html(data.vchr_user_name);
                $('#user_name').html(data.vchr_first_name);
                $('#pro_name').html(data.vchr_first_name);
                 $('#user_nm').val(data.vchr_user_name);

               });

         		}
         		else if(data.ResponseCode == 404)
         		{
         			
                 $( "body" ).load( "/login2/", function() {
              

               });
                  }
                 }});
             });


              $("#sign-frm").submit(function(e){
              e.preventDefault();
              var data = new FormData(this); 
              var fname = $('#fname').val();
              var lname = $('#lname').val();
              var email1 = $('#email1').val();
              var email2 = $('#email2').val();
              var userpass = $('#userpass').val();
              var month = $('#month').val();
              var day = $('#day').val();
              var year = $('#year').val();

              var profile_pic =$('#profile_pic').val();
              var sex = $('input[name="sex"]:checked').val();
      
                 $.ajax({url: "http://127.0.0.1:9000/registration/", 
                    dataType:"json",
                    data: data,
                    cache: false,
                    mimeType:"multipart/form-data",
                    contentType: false,
                    processData: false,
                    type: 'POST',     
                    
                     success: function(data){
                     console.log(data);
                     
                    
                  
            
                 }});
             });

         });

      </script>
   </body>
</html>
